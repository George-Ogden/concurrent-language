main = (v: int) -> int {
    r = if (v > 65535) {1} else {0} << 4;
    v = v >> r;

    shift = if (v > 255) {1} else {0} << 3;
    v = v >> shift;
    r = r | shift;

    shift = if (v > 15) {1} else {0} << 2;
    v = v >> shift;
    r = r | shift;

    shift = if (v > 3) {1} else {0} << 1;
    v = v >> shift;
    r = r | shift;

    r = r | (v >> 1);

    r
}
